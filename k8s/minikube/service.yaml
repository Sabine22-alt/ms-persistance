apiVersion: v1
kind: Service
metadata:
  name: ms-persistance
  labels:
    app: ms-persistance
spec:
  # Use ClusterIP to avoid NodePort collisions when deploying the same app
  # in multiple namespaces/with ArgoCD. If you need external access, expose
  # the service via an Ingress (recommended) or assign a unique nodePort per
  # environment.
  type: ClusterIP
  selector:
    app: ms-persistance
  ports:
  - port: 8090
    targetPort: 8090
    protocol: TCP
    name: http
